{
  "meta": {
    "app": "FlowForge LE",
    "author": "Andreas Schlaupitz",
    "version": "2.7",
    "tagline": "Where network flows are forged."
  },
  "debian": {
    "udevPath": "/etc/udev/rules.d/10-flowforge-ifnames.rules",
    "disablePredictable": true
  },
  "envs": [
    {
      "name": "Development",
      "tag": "DEV",
      "comment": "Development / test",
      "domain": "dev.example.local"
    },
    {
      "name": "Production",
      "tag": "PRD",
      "comment": "Production",
      "domain": "prd.example.local"
    }
  ],
  "zones": [
    {
      "name": "Core",
      "tag": "CORE",
      "envTags": [
        "DEV",
        "PRD"
      ]
    }
  ],
  "vlans": [
    {
      "name": "Management",
      "vlanId": "30",
      "cidr": "10.10.30.0/24",
      "iface": "mgmt",
      "scopes": [
        {
          "envTag": "DEV",
          "zoneTag": "CORE",
          "gwDefault": "10.10.30.1",
          "gwFallback": ""
        },
        {
          "envTag": "PRD",
          "zoneTag": "CORE",
          "gwDefault": "10.10.30.1",
          "gwFallback": "10.10.30.254"
        }
      ]
    },
    {
      "name": "Internal",
      "vlanId": "50",
      "cidr": "10.20.0.0/24",
      "iface": "lan",
      "scopes": [
        {
          "envTag": "PRD",
          "zoneTag": "CORE",
          "gwDefault": "10.20.0.1",
          "gwFallback": ""
        }
      ]
    }
  ],
  "firewalls": [
    {
      "name": "fw-core",
      "scopes": [
        {
          "envTag": "PRD",
          "zoneTag": "CORE"
        }
      ]
    }
  ],
  "services": [
    {
      "name": "SSH",
      "comment": "Remote administration",
      "portItems": [
        {
          "proto": "TCP",
          "value": "22"
        }
      ]
    },
    {
      "name": "FTP",
      "comment": "File transfer (classic)",
      "portItems": [
        {
          "proto": "TCP",
          "value": "21"
        },
        {
          "proto": "TCP",
          "value": "20"
        }
      ]
    },
    {
      "name": "SFTP",
      "comment": "File transfer over SSH",
      "portItems": [
        {
          "proto": "TCP",
          "value": "22"
        }
      ]
    },
    {
      "name": "sTunnel",
      "comment": "Secure TCP tunnel",
      "portItems": [
        {
          "proto": "TCP",
          "value": "19999"
        }
      ]
    },
    {
      "name": "PostgreSQL",
      "comment": "Database",
      "portItems": [
        {
          "proto": "TCP",
          "value": "5432"
        }
      ]
    },
    {
      "name": "MariaDB",
      "comment": "Database",
      "portItems": [
        {
          "proto": "TCP",
          "value": "3306"
        }
      ]
    },
    {
      "name": "nginx",
      "comment": "Web server",
      "portItems": [
        {
          "proto": "TCP",
          "value": "80,443"
        }
      ]
    },
    {
      "name": "tomcat",
      "comment": "Application server",
      "portItems": [
        {
          "proto": "TCP",
          "value": "8080,8443"
        }
      ]
    }
  ],
  "servers": [
    {
      "name": "ff-dev-dns01",
      "os": "debian",
      "octet": "10",
      "envs": [
        "DEV"
      ],
      "vlans": [
        "Management"
      ],
      "services": [
        "SSH",
        "nginx"
      ],
      "roles": {
        "dns": true,
        "ntp": true
      },
      "routes": [],
      "firewallRules": []
    },
    {
      "name": "ff-prd-db01",
      "os": "debian",
      "octet": "11",
      "envs": [
        "PRD"
      ],
      "vlans": [
        "Management",
        "Internal"
      ],
      "services": [
        "SSH",
        "PostgreSQL"
      ],
      "roles": {
        "dns": false,
        "ntp": false
      },
      "routes": [],
      "firewallRules": []
    },
    {
      "name": "ff-prd-web01",
      "os": "debian",
      "octet": "12",
      "envs": [
        "PRD"
      ],
      "vlans": [
        "Management",
        "Internal"
      ],
      "services": [
        "SSH",
        "nginx",
        "tomcat"
      ],
      "roles": {
        "dns": false,
        "ntp": false
      },
      "routes": [],
      "firewallRules": []
    },
    {
      "name": "ff-prd-vms01",
      "os": "openvms",
      "octet": "20",
      "envs": [
        "PRD"
      ],
      "vlans": [
        "Management"
      ],
      "services": [
        "SSH",
        "sTunnel"
      ],
      "roles": {
        "dns": false,
        "ntp": false
      },
      "routes": [],
      "firewallRules": []
    }
  ]
}
